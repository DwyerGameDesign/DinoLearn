<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>Dino Learn - Interactive Learning for Kids</title>
  <link rel="stylesheet" href="styles.css?v=20260218b">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">
</head>
<body>
  <!-- Home Screen -->
  <div class="screen home-screen active" id="homeScreen">
    <div class="dino-title-emoji">ğŸ¦–</div>
    <div class="app-title">DINO LEARN!</div>
    <div class="game-buttons">
      <div class="game-buttons-row lotd-row">
        <button class="game-btn btn-lotd" data-game="lotd">ğŸ”¤ Letter Explorer!</button>
      </div>
      <div class="game-buttons-row">
        <button class="game-btn btn-spell" data-game="spell">ğŸ”¤ Spell It!</button>
        <button class="game-btn btn-count" data-game="count">ğŸ¥š Count!</button>
        <button class="game-btn btn-match" data-game="match">ğŸ  Match!</button>
        <button class="game-btn btn-dice" data-game="dice">ğŸ² Dice Add!</button>
      </div>
      <div class="game-buttons-row">
        <button class="game-btn btn-letters" data-game="letters">ğŸ”¤ Letters!</button>
        <button class="game-btn btn-stomp" data-game="stomp">ğŸ¦¶ Dino Stomp!</button>
        <button class="game-btn btn-colors" data-game="colors">ğŸŒˆ Dino Colors!</button>
      </div>
    </div>
  </div>

  <!-- Letter of the Day Screen -->
  <div class="screen lotd-screen" id="lotdScreen">
    <div class="game-header">
      <button class="home-btn">ğŸ </button>
      <div class="progress-dots" id="lotdProgress"></div>
      <div class="lotd-header-letter" id="lotdHeaderLetter">A</div>
    </div>
    <div class="lotd-content" id="lotdContent"></div>
  </div>

  <!-- Spelling Game Screen -->
  <div class="screen spell-screen" id="spellScreen">
    <div class="game-header">
      <button class="home-btn">ğŸ </button>
      <div class="progress-dots" id="spellProgress"></div>
      <div style="display: flex; align-items: center; gap: clamp(8px, 2vw, 12px);">
        <button class="toggle-btn" id="wordNameToggle" title="Toggle word name">ğŸ‘ï¸</button>
        <div class="star-counter">â­ <span id="spellStars">0</span></div>
      </div>
    </div>
    <div class="spell-content">
      <div class="spell-emoji" id="spellEmoji"></div>
      <div class="spell-prompt" id="spellPrompt"></div>
      <div class="letter-slots" id="letterSlots"></div>
      <div class="letter-buttons" id="letterButtons"></div>
    </div>
  </div>

  <!-- Counting Game Screen -->
  <div class="screen count-screen" id="countScreen">
    <div class="game-header">
      <button class="home-btn">ğŸ </button>
      <div class="progress-dots" id="countProgress"></div>
      <div class="star-counter">â­ <span id="countStars">0</span></div>
    </div>
    <div class="count-content">
      <div class="count-prompt" id="countPrompt">Tap each egg to count!</div>
      <div class="egg-field" id="eggField"></div>
      <div class="number-buttons" id="numberButtons" style="display: none;"></div>
    </div>
  </div>

  <!-- Memory Match Game Screen -->
  <div class="screen match-screen" id="matchScreen">
    <div class="game-header">
      <button class="home-btn">ğŸ </button>
      <div class="progress-dots" id="matchProgress"></div>
      <div class="star-counter">â­ <span id="matchStars">0</span></div>
    </div>
    <div class="match-content">
      <div class="card-grid" id="cardGrid"></div>
    </div>
  </div>

  <!-- Dice Add Game Screen -->
  <div class="screen dice-screen" id="diceScreen">
    <div class="game-header">
      <button class="home-btn">ğŸ </button>
      <div class="progress-dots" id="diceProgress"></div>
      <div class="star-counter">â­ <span id="diceStars">0</span></div>
    </div>
    <div class="dice-content">
      <div class="dice-dino" id="diceDino">ğŸ¦–</div>
      <div class="dice-container">
        <div class="die" id="die1">âš€</div>
        <div class="dice-plus">+</div>
        <div class="die" id="die2">âš€</div>
      </div>
      <div class="dice-equation" id="diceEquation"></div>
      <button class="roll-btn" id="rollBtn">ğŸ² ROLL!</button>
      <div class="dice-answer-buttons" id="diceAnswerButtons" style="display: none;"></div>
    </div>
  </div>

  <!-- Letter Match Game Screen -->
  <div class="screen letters-screen" id="lettersScreen">
    <div class="game-header">
      <button class="home-btn">ğŸ </button>
      <div class="progress-dots" id="lettersProgress"></div>
      <div class="star-counter">â­ <span id="lettersStars">0</span></div>
    </div>
    <div class="letters-content">
      <div class="letters-prompt" id="lettersPrompt">Match the letter!</div>
      <div class="letters-lowercase" id="lettersLowercase">a</div>
      <div class="letters-uppercase-buttons" id="lettersUppercaseButtons"></div>
    </div>
  </div>

  <!-- Dino Stomp Game Screen -->
  <div class="screen stomp-screen" id="stompScreen">
    <div class="game-header">
      <button class="home-btn">ğŸ </button>
      <div class="timer-display" id="timerDisplay">â±ï¸ 60s</div>
      <div style="display: flex; align-items: center; gap: clamp(8px, 2vw, 12px);">
        <div class="stomp-counter">ğŸ¦¶ <span id="stompCount">0</span></div>
        <div class="star-counter">â­ <span id="stompStars">0</span></div>
      </div>
    </div>
    <div class="stomp-content">
      <div class="stomp-target-area">
        <div class="stomp-target-dino">ğŸ¦–</div>
        <div class="stomp-target-text">STOMP THE</div>
        <div class="target-badge" id="targetBadge">D</div>
        <div class="stomp-target-text">!</div>
      </div>
      <div class="stomp-grid" id="stompGrid"></div>
      <div class="countdown-overlay" id="countdownOverlay"></div>
    </div>
  </div>

  <!-- Stomp Results Overlay -->
  <div class="results-overlay" id="stompResultsOverlay" style="display: none;">
    <div class="results-dino">ğŸ¦–</div>
    <div class="results-title">TIME'S UP!</div>
    <div class="results-stomp-count">You stomped <span id="resultsCount">0</span> letters!</div>
    <div class="results-stars" id="resultsStars"></div>
    <div class="results-rating" id="resultsRating"></div>
    <div class="results-buttons">
      <button class="play-again-btn" id="playAgainBtn">PLAY AGAIN ğŸ®</button>
      <button class="home-btn-large" id="stompHomeBtn">HOME ğŸ </button>
    </div>
  </div>

  <!-- Dino Colors Game Screen -->
  <div class="screen colors-screen" id="colorsScreen">
    <div class="star-field" id="starField"></div>
    <div class="game-header">
      <button class="home-btn">ğŸ </button>
      <div class="rainbow-tracker" id="rainbowTracker"></div>
      <div class="star-counter">â­ <span id="colorsStars">0</span></div>
    </div>
    <div class="colors-content">
      <div class="colors-word-area">
        <div class="colors-dino" id="colorsDino">ğŸ¦–</div>
        <div class="color-word-display" id="colorWordDisplay">BLUE</div>
      </div>
      <div class="splat-row" id="splatRow"></div>
    </div>
    <div class="reward-container" id="rewardContainer"></div>
  </div>

  <!-- Celebration Overlay -->
  <div class="celebration-overlay" id="celebrationOverlay">
    <div class="celebration-dino">ğŸ¦–</div>
    <div class="celebration-text" id="celebrationText"></div>
    <button class="next-btn" id="nextBtn">NEXT â¡ï¸</button>
  </div>

  <script src="audio.js?v=20260218a"></script>
  <script src="games.js?v=20260218a"></script>
  <script src="lotd.js?v=20260218a"></script>
  <script src="main.js?v=20260218a"></script>
  <script>
    // Inline override: ensure startLOTD always shows the letter picker
    // (guards against browser caching old lotd.js)
    (function() {
      var _origStartLOTD = typeof startLOTD === 'function' ? startLOTD : null;
      window.startLOTD = function() {
        lotdState.activity = 'picker';
        showScreen('lotdScreen');
        if (typeof showLetterPicker === 'function') {
          showLetterPicker();
        } else {
          // Fallback: build picker inline if lotd.js is stale
          var content = document.getElementById('lotdContent');
          var progressEl = document.getElementById('lotdProgress');
          if (progressEl) progressEl.innerHTML = '';
          var headerEl = document.getElementById('lotdHeaderLetter');
          if (headerEl) headerEl.textContent = '';
          var letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
          var colors = ['#e74c3c','#e67e22','#f1c40f','#27ae60','#3498db','#9b59b6','#1abc9c','#e84393'];
          content.innerHTML = '<div class="lotd-picker-wrap">' +
            '<div class="lotd-picker-title">ğŸ”¤ Pick a Letter!</div>' +
            '<div class="lotd-picker-subtitle">Choose a letter to explore</div>' +
            '<div class="lotd-picker-grid" id="letterPickerGrid"></div></div>';
          var grid = document.getElementById('letterPickerGrid');
          letters.split('').forEach(function(L, i) {
            var btn = document.createElement('button');
            btn.className = 'lotd-picker-btn';
            btn.textContent = L;
            btn.style.animationDelay = (i * 0.03) + 's';
            btn.style.background = colors[i % colors.length];
            btn.addEventListener('click', function() {
              if (typeof audioCtx !== 'undefined' && audioCtx) sounds.tap();
              lotdState.letter = L;
              var hdr = document.getElementById('lotdHeaderLetter');
              if (hdr) hdr.textContent = L;
              showLOTDIntro();
            });
            grid.appendChild(btn);
          });
          if (typeof audioCtx !== 'undefined' && audioCtx && typeof sounds !== 'undefined') sounds.instructionChime();
        }
      };
    })();
  </script>
</body>
</html>