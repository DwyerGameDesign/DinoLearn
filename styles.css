:root {
  --sky-start: #87ceeb;
  --sky-end: #c8f0ff;
  --jungle-dark: #1a5c2a;
  --jungle-mid: #2d8a4e;
  --jungle-light: #7dd87d;
  --lava-red: #e74c3c;
  --lava-orange: #f39c12;
  --lava-dark: #e67e22;
  --dino-purple: #9b59b6;
  --dino-blue: #3498db;
  --dino-teal: #1abc9c;
  --bark: #8B5E3C;
  --star-gold: #FFD700;
  --correct: #27ae60;
  --wrong: #e74c3c;
  --egg-cream: #fdf6e3;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
  user-select: none;
  -webkit-touch-callout: none;
}

body {
  font-family: 'Fredoka', system-ui, -apple-system, 'Segoe UI', sans-serif;
  height: 100dvh;
  width: 100vw;
  overflow: hidden;
  background: linear-gradient(to bottom, var(--sky-start), var(--sky-end) 40%, var(--jungle-light) 60%, var(--jungle-mid) 80%, var(--jungle-dark));
  position: relative;
}

/* Fonts: Using system fonts with fallbacks
   'Lilita One' and 'Fredoka' will fall back to system fonts if not available */

.screen {
  display: none;
  flex-direction: column;
  height: 100dvh;
  width: 100vw;
  padding: clamp(8px, 2vw, 16px);
  position: relative;
  overflow: hidden;
}

.screen.allow-scroll {
  overflow-y: auto;
  overflow-x: hidden;
}

.screen.active {
  display: flex;
}

/* Home Screen */
.home-screen {
  align-items: center;
  justify-content: flex-start;
  padding-top: clamp(4px, 1vw, 8px);
  padding-bottom: clamp(4px, 1vw, 8px);
  gap: clamp(6px, 1.5vw, 10px);
}

.dino-title-emoji {
  font-size: clamp(50px, 12vw, 100px);
  filter: drop-shadow(4px 4px 0 rgba(0,0,0,0.3));
  animation: dinoIdle 2.5s ease-in-out infinite;
  margin-top: clamp(-10px, -2.5vw, -5px);
}

@keyframes dinoIdle {
  0%, 100% { transform: scale(1) rotate(0deg); }
  50% { transform: scale(1.05) rotate(2deg); }
}

.app-title {
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(30px, 7.5vw, 54px);
  color: var(--lava-orange);
  text-shadow: 4px 4px 0 var(--bark), 2px 2px 0 rgba(0,0,0,0.4);
  animation: titleBounce 2s ease-in-out infinite;
  margin-top: clamp(-8px, -2vw, -4px);
}

@keyframes titleBounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-8px); }
}

.game-buttons {
  display: flex;
  flex-direction: column;
  gap: clamp(6px, 1.5vw, 10px);
  align-items: center;
  width: 100%;
  padding: 0 clamp(12px, 3vw, 20px);
}

.game-buttons-row {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: clamp(12px, 3vw, 20px);
  justify-content: center;
  width: 100%;
  max-width: clamp(600px, 90vw, 800px);
}

.game-buttons-row.lotd-row {
  grid-template-columns: 1fr;
  max-width: clamp(300px, 75vw, 400px);
}

.game-buttons-row.lotd-row {
  margin-bottom: clamp(8px, 2vw, 12px);
}

.game-btn {
  min-width: clamp(140px, 35vw, 220px);
  min-height: clamp(80px, 20vw, 120px);
  border: 5px solid var(--bark);
  border-radius: clamp(16px, 4vw, 24px);
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(20px, 5vw, 32px);
  color: white;
  text-shadow: 2px 2px 0 rgba(0,0,0,0.4);
  cursor: pointer;
  box-shadow: 0 6px 0 #7a3a10, 0 8px 16px rgba(0,0,0,0.3);
  transition: transform 0.1s, box-shadow 0.1s;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: clamp(8px, 2vw, 12px);
}

.game-btn:active {
  transform: translateY(4px);
  box-shadow: 0 2px 0 #7a3a10, 0 4px 8px rgba(0,0,0,0.2);
}

.btn-spell { background: linear-gradient(135deg, var(--lava-red), var(--lava-orange)); }
.btn-count { background: linear-gradient(135deg, var(--dino-purple), #c39bd3); }
.btn-match { background: linear-gradient(135deg, var(--dino-teal), #7fdecd); }
.btn-dice { background: linear-gradient(135deg, #3498db, #2171a6); }
.btn-letters { background: linear-gradient(135deg, #f39c12, #e67e22); }
.btn-stomp { background: linear-gradient(135deg, #27ae60, #1e8449); border-color: #145a32; box-shadow: 0 6px 0 #0d3b1e, 0 8px 16px rgba(0,0,0,0.3); }
.btn-colors { background: linear-gradient(135deg, #e74c3c, #f39c12, #f1c40f, #2ecc71, #3498db, #9b59b6); border-color: #5b2c6f; box-shadow: 0 6px 0 #3a1a4a, 0 8px 20px rgba(0,0,0,0.3); }

/* Game Screen Header */
.game-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: clamp(8px, 2vw, 12px);
  min-height: clamp(48px, 12vw, 64px);
  gap: clamp(8px, 2vw, 12px);
}

.home-btn {
  width: clamp(56px, 14vw, 72px);
  height: clamp(56px, 14vw, 72px);
  border-radius: 50%;
  background: var(--dino-blue);
  border: 4px solid var(--bark);
  font-size: clamp(28px, 7vw, 40px);
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 0 #5a3a1a, 0 6px 12px rgba(0,0,0,0.2);
  cursor: pointer;
  transition: transform 0.1s, box-shadow 0.1s;
}

.home-btn:active {
  transform: translateY(2px);
  box-shadow: 0 2px 0 #5a3a1a, 0 3px 6px rgba(0,0,0,0.15);
}

.toggle-btn {
  width: clamp(48px, 12vw, 64px);
  height: clamp(48px, 12vw, 64px);
  border-radius: 50%;
  background: var(--dino-teal);
  border: 4px solid var(--bark);
  font-size: clamp(20px, 5vw, 28px);
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 0 #5a3a1a, 0 6px 12px rgba(0,0,0,0.2);
  cursor: pointer;
  transition: transform 0.1s, box-shadow 0.1s, opacity 0.3s;
}

.toggle-btn:active {
  transform: translateY(2px);
  box-shadow: 0 2px 0 #5a3a1a, 0 3px 6px rgba(0,0,0,0.15);
}

.toggle-btn.disabled {
  opacity: 0.5;
  background: #999;
}

.progress-dots {
  display: flex;
  gap: clamp(6px, 1.5vw, 10px);
  flex: 1;
  justify-content: center;
}

.progress-dot {
  width: clamp(12px, 3vw, 18px);
  height: clamp(12px, 3vw, 18px);
  border-radius: 50%;
  border: 2px solid var(--bark);
  background: rgba(255,255,255,0.3);
}

.progress-dot.filled {
  background: var(--star-gold);
  box-shadow: 0 0 8px var(--star-gold);
}

.progress-dot.current {
  background: white;
  box-shadow: 0 0 6px rgba(255,255,255,0.8);
}

.star-counter {
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(20px, 5vw, 28px);
  color: var(--star-gold);
  text-shadow: 2px 2px 0 rgba(0,0,0,0.4);
  display: flex;
  align-items: center;
  gap: clamp(4px, 1vw, 8px);
  min-width: clamp(60px, 15vw, 90px);
  justify-content: flex-end;
}

/* Spelling Game */
.spell-screen {
  background: linear-gradient(to bottom, #ffe5cc, #ffcc99);
}

.spell-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  gap: clamp(12px, 3vw, 20px);
  padding: clamp(8px, 2vw, 16px) clamp(12px, 3vw, 24px);
  padding-top: clamp(4px, 1vw, 8px);
}

.spell-emoji {
  font-size: clamp(60px, 15vw, 110px);
  filter: drop-shadow(4px 4px 0 rgba(0,0,0,0.3));
  animation: emojiPop 0.5s ease-out;
  margin-bottom: clamp(-4px, -1vw, -8px);
}

@keyframes emojiPop {
  0% { transform: scale(0.7); }
  50% { transform: scale(1.15); }
  100% { transform: scale(1); }
}

.spell-prompt {
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(24px, 6vw, 40px);
  color: var(--bark);
  text-shadow: 2px 2px 0 rgba(255,255,255,0.8);
  text-align: center;
}

.letter-slots {
  display: flex;
  gap: clamp(8px, 2vw, 12px);
  flex-wrap: wrap;
  justify-content: center;
  max-width: 90vw;
}

.letter-slot {
  width: clamp(80px, 20vw, 120px);
  height: clamp(88px, 22vw, 130px);
  border: 6px dashed var(--bark);
  border-radius: clamp(12px, 3vw, 18px);
  background: var(--egg-cream);
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(44px, 11vw, 68px);
  color: var(--bark);
  transition: all 0.3s;
}

.letter-slot.filled {
  border: 4px solid var(--correct);
  background: var(--correct);
  color: white;
  animation: slotPop 0.3s ease-out;
}

@keyframes slotPop {
  0% { transform: scale(0.7); }
  50% { transform: scale(1.15); }
  100% { transform: scale(1); }
}

.letter-slot.wrong {
  background: var(--wrong);
  color: white;
  border: 4px solid var(--wrong);
  animation: slotShake 0.4s ease-in-out;
}

@keyframes slotShake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-8px); }
  75% { transform: translateX(8px); }
}

.letter-buttons {
  display: flex;
  flex-wrap: wrap;
  gap: clamp(10px, 2.5vw, 12px);
  justify-content: center;
  max-width: 90vw;
}

.letter-btn {
  width: clamp(85px, 21vw, 125px);
  height: clamp(85px, 21vw, 125px);
  border: 6px solid var(--bark);
  border-radius: clamp(14px, 3.5vw, 20px);
  background: white;
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(44px, 11vw, 68px);
  color: var(--bark);
  cursor: pointer;
  box-shadow: 0 6px 0 #7a3a10, 0 8px 16px rgba(0,0,0,0.2);
  transition: transform 0.1s, box-shadow 0.1s, opacity 0.3s;
  display: flex;
  align-items: center;
  justify-content: center;
}

.letter-btn:active:not(:disabled) {
  transform: translateY(2px);
  box-shadow: 0 2px 0 #7a3a10, 0 3px 6px rgba(0,0,0,0.15);
}

.letter-btn:disabled {
  opacity: 0.3;
  cursor: not-allowed;
}

/* Counting Game */
.count-screen {
  background: linear-gradient(to bottom, #e8d5ff, #d4a5ff);
}

.count-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  gap: clamp(12px, 3vw, 20px);
  padding: clamp(8px, 2vw, 16px) clamp(12px, 3vw, 24px);
  padding-top: clamp(4px, 1vw, 8px);
}

.count-prompt {
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(24px, 6vw, 40px);
  color: var(--dino-purple);
  text-shadow: 2px 2px 0 rgba(255,255,255,0.8);
  text-align: center;
  margin-bottom: clamp(-4px, -1vw, -8px);
}

.egg-field {
  display: flex;
  flex-wrap: wrap;
  gap: clamp(10px, 2.5vw, 14px);
  justify-content: center;
  max-width: clamp(500px, 70vw, 650px);
  padding: clamp(8px, 2vw, 16px);
}

.egg-item {
  font-size: clamp(60px, 15vw, 90px);
  filter: drop-shadow(4px 4px 0 rgba(0,0,0,0.2));
  cursor: pointer;
  position: relative;
  animation: eggWobble 3s ease-in-out infinite;
  transition: transform 0.2s;
}

.egg-item:nth-child(1) { animation-delay: 0s; }
.egg-item:nth-child(2) { animation-delay: 0.3s; }
.egg-item:nth-child(3) { animation-delay: 0.6s; }
.egg-item:nth-child(4) { animation-delay: 0.9s; }
.egg-item:nth-child(5) { animation-delay: 1.2s; }
.egg-item:nth-child(6) { animation-delay: 1.5s; }
.egg-item:nth-child(7) { animation-delay: 1.8s; }
.egg-item:nth-child(8) { animation-delay: 2.1s; }
.egg-item:nth-child(9) { animation-delay: 2.4s; }
.egg-item:nth-child(10) { animation-delay: 2.7s; }

@keyframes eggWobble {
  0%, 100% { transform: rotate(0deg); }
  50% { transform: rotate(3deg); }
}

.egg-item.tapped {
  transform: scale(1.2);
  animation: eggHatch 0.4s ease-out;
}

@keyframes eggHatch {
  0% { transform: scale(1) rotate(0deg); }
  50% { transform: scale(1.3) rotate(10deg); }
  100% { transform: scale(1.2) rotate(0deg); }
}

.egg-item:active:not(.tapped) {
  transform: scale(1.1);
}

.egg-count-label {
  position: absolute;
  top: -24px;
  left: 50%;
  transform: translateX(-50%);
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(24px, 6vw, 32px);
  color: white;
  text-shadow: 2px 2px 0 rgba(0,0,0,0.6);
  background: var(--dino-purple);
  padding: clamp(4px, 1vw, 6px) clamp(8px, 2vw, 12px);
  border-radius: clamp(10px, 2.5vw, 14px);
  border: 3px solid white;
  white-space: nowrap;
}

.number-buttons {
  display: flex;
  flex-wrap: wrap;
  gap: clamp(12px, 3vw, 16px);
  justify-content: center;
  max-width: 90vw;
}

.number-btn {
  width: clamp(85px, 21vw, 120px);
  height: clamp(85px, 21vw, 120px);
  border-radius: 50%;
  border: 6px solid var(--bark);
  background: white;
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(40px, 10vw, 60px);
  color: var(--bark);
  cursor: pointer;
  box-shadow: 0 6px 0 #7a3a10, 0 8px 16px rgba(0,0,0,0.2);
  transition: transform 0.1s, box-shadow 0.1s;
  display: flex;
  align-items: center;
  justify-content: center;
}

.number-btn:active {
  transform: translateY(2px);
  box-shadow: 0 2px 0 #7a3a10, 0 3px 6px rgba(0,0,0,0.15);
}

.number-btn.correct {
  background: var(--correct);
  color: white;
  animation: slotPop 0.3s ease-out;
}

.number-btn.wrong {
  background: var(--wrong);
  color: white;
  animation: slotShake 0.4s ease-in-out;
}

/* Memory Match Game */
.match-screen {
  background: linear-gradient(to bottom, #d5f4e6, #a8e6cf);
}

.match-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: clamp(16px, 4vw, 32px);
  padding: clamp(12px, 3vw, 24px);
}

.card-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: clamp(12px, 3vw, 18px);
  max-width: 520px;
  width: 100%;
  perspective: 1000px;
}

.card {
  aspect-ratio: 1;
  min-height: clamp(100px, 25vw, 150px);
  border: 5px solid var(--bark);
  border-radius: clamp(14px, 3.5vw, 20px);
  background: var(--egg-cream);
  cursor: pointer;
  box-shadow: 0 6px 0 #7a3a10, 0 8px 16px rgba(0,0,0,0.2);
  transition: transform 0.3s, box-shadow 0.1s;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: clamp(50px, 12.5vw, 75px);
  position: relative;
  transform-style: preserve-3d;
}

.card:active:not(.flipped):not(.matched) {
  transform: translateY(2px) scale(0.95);
  box-shadow: 0 2px 0 #7a3a10, 0 3px 6px rgba(0,0,0,0.15);
}

.card.flipped {
  background: white;
  transform: rotateY(180deg);
}

.card.matched {
  background: var(--correct);
  border-color: var(--correct);
  cursor: not-allowed;
  animation: slotPop 0.3s ease-out;
}

.card-back {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
}

.card-front {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: rotateY(180deg);
}

/* Dice Add Game */
.dice-screen {
  background: linear-gradient(to bottom, #2c1810, #5d3a1a 50%, #1a5c2a);
}

.dice-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  gap: clamp(12px, 3vw, 20px);
  padding: clamp(8px, 2vw, 16px) clamp(12px, 3vw, 24px);
  padding-top: clamp(4px, 1vw, 8px);
}

.dice-dino {
  font-size: clamp(50px, 12vw, 80px);
  filter: drop-shadow(4px 4px 0 rgba(0,0,0,0.3));
  animation: dinoIdle 2s ease-in-out infinite;
  margin-bottom: clamp(-4px, -1vw, -8px);
}

.dice-dino.excited {
  animation: dinoExcited 0.15s ease-in-out infinite;
}

@keyframes dinoExcited {
  0%, 100% { transform: rotate(-5deg) scale(1); }
  50% { transform: rotate(5deg) scale(1.1); }
}

.dice-dino.happy {
  animation: dinoHappy 0.6s ease-out;
}

@keyframes dinoHappy {
  0% { transform: translateY(0) scale(1); }
  50% { transform: translateY(-20px) scale(1.2); }
  100% { transform: translateY(0) scale(1); }
}

.dice-dino.sad {
  animation: dinoSad 0.8s ease-in-out;
}

@keyframes dinoSad {
  0%, 100% { transform: rotate(0deg); }
  25% { transform: rotate(-10deg); }
  75% { transform: rotate(10deg); }
}

.dice-container {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: clamp(16px, 4vw, 20px);
}

.die {
  width: clamp(110px, 28vw, 180px);
  height: clamp(110px, 28vw, 180px);
  background: var(--egg-cream);
  border: 6px solid var(--bark);
  border-radius: clamp(14px, 3.5vw, 20px);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: clamp(75px, 19vw, 130px);
  box-shadow: 0 8px 0 #7a3a10, 0 10px 20px rgba(0,0,0,0.4);
  transition: transform 0.1s;
}

.die.rolling {
  animation: diceRoll 0.1s ease-in-out infinite;
}

@keyframes diceRoll {
  0% { transform: rotate(-8deg) scale(1.05); }
  50% { transform: rotate(8deg) scale(0.95); }
  100% { transform: rotate(-8deg) scale(1.05); }
}

.die.landed {
  animation: diceBounce 0.4s ease-out;
}

@keyframes diceBounce {
  0% { transform: translateY(-20px) rotate(5deg); }
  50% { transform: translateY(0) rotate(-2deg); }
  75% { transform: translateY(-6px) rotate(1deg); }
  100% { transform: translateY(0) rotate(0deg); }
}

.dice-plus {
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(32px, 8vw, 48px);
  color: var(--star-gold);
  text-shadow: 2px 2px 0 rgba(0,0,0,0.4);
  margin: 0 clamp(6px, 1.5vw, 12px);
}

.dice-equation {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: clamp(8px, 2vw, 12px);
  font-family: 'Lilita One', sans-serif;
  opacity: 0;
  transform: translateY(10px);
  transition: opacity 0.4s, transform 0.4s;
}

.dice-equation.visible {
  opacity: 1;
  transform: translateY(0);
}

.dice-equation .equation-number {
  font-size: clamp(48px, 12vw, 72px);
  color: white;
  text-shadow: 3px 3px 0 rgba(0,0,0,0.5);
}

.dice-equation .equation-symbol {
  font-size: clamp(36px, 9vw, 56px);
  color: var(--star-gold);
  text-shadow: 2px 2px 0 rgba(0,0,0,0.5);
}

.dice-equation .equation-question {
  font-size: clamp(48px, 12vw, 72px);
  color: var(--star-gold);
  text-shadow: 3px 3px 0 rgba(0,0,0,0.5);
  animation: questionPulse 1s ease-in-out infinite;
}

@keyframes questionPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}

.dice-equation .equation-answer {
  font-size: clamp(48px, 12vw, 72px);
  color: var(--correct);
  text-shadow: 3px 3px 0 rgba(0,0,0,0.5);
  animation: answerPop 0.3s ease-out;
}

@keyframes answerPop {
  0% { transform: scale(0.7); }
  50% { transform: scale(1.2); }
  100% { transform: scale(1); }
}

.roll-btn {
  padding: clamp(20px, 5vw, 28px) clamp(48px, 12vw, 64px);
  min-width: clamp(220px, 55vw, 280px);
  min-height: clamp(80px, 20vw, 100px);
  border: 7px solid #7a1a1a;
  border-radius: clamp(18px, 4.5vw, 28px);
  background: linear-gradient(135deg, #e74c3c, #c0392b);
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(36px, 9vw, 52px);
  color: white;
  text-shadow: 2px 2px 0 rgba(0,0,0,0.4);
  cursor: pointer;
  box-shadow: 0 10px 0 #5a0f0f, 0 12px 28px rgba(0,0,0,0.4);
  transition: transform 0.1s, box-shadow 0.1s, opacity 0.2s;
  animation: rollPulse 1.5s ease-in-out infinite;
}

@keyframes rollPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.06); }
}

.roll-btn:active {
  transform: translateY(6px) scale(0.98);
  box-shadow: 0 2px 0 #5a0f0f, 0 4px 12px rgba(0,0,0,0.3);
}

.roll-btn.hidden {
  opacity: 0;
  transform: scale(0.8);
  pointer-events: none;
}

.dice-answer-buttons {
  display: flex;
  flex-wrap: wrap;
  gap: clamp(12px, 3vw, 16px);
  justify-content: center;
  max-width: 90vw;
}

.dice-answer-btn {
  width: clamp(85px, 21vw, 120px);
  height: clamp(85px, 21vw, 120px);
  border-radius: 50%;
  border: 6px solid #a04000;
  background: linear-gradient(135deg, #e67e22, #d35400);
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(40px, 10vw, 60px);
  color: white;
  text-shadow: 2px 2px 0 rgba(0,0,0,0.4);
  cursor: pointer;
  box-shadow: 0 6px 0 #7a3a10, 0 8px 16px rgba(0,0,0,0.2);
  transition: transform 0.1s, box-shadow 0.1s;
  display: flex;
  align-items: center;
  justify-content: center;
}

.dice-answer-btn:active {
  transform: translateY(2px);
  box-shadow: 0 2px 0 #7a3a10, 0 3px 6px rgba(0,0,0,0.15);
}

.dice-answer-btn.correct {
  background: var(--correct);
  color: white;
  animation: slotPop 0.3s ease-out;
}

.dice-answer-btn.wrong {
  background: var(--wrong);
  color: white;
  animation: slotShake 0.4s ease-in-out;
}

/* Celebration Overlay */
.celebration-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100dvh;
  background: rgba(0,0,0,0.6);
  backdrop-filter: blur(4px);
  display: none;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: clamp(20px, 5vw, 40px);
  z-index: 1000;
}

.celebration-overlay.active {
  display: flex;
}

.celebration-dino {
  font-size: clamp(100px, 25vw, 180px);
  filter: drop-shadow(6px 6px 0 rgba(0,0,0,0.4));
  animation: celebrationSpin 0.8s ease-out;
}

@keyframes celebrationSpin {
  0% { transform: scale(0) rotate(-180deg); }
  100% { transform: scale(1) rotate(0deg); }
}

.celebration-text {
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(32px, 8vw, 56px);
  color: var(--star-gold);
  text-shadow: 4px 4px 0 rgba(0,0,0,0.5), 0 0 20px var(--star-gold);
  animation: titleBounce 0.6s ease-out;
}

.next-btn {
  min-width: clamp(180px, 45vw, 280px);
  min-height: clamp(70px, 17.5vw, 100px);
  border: 5px solid var(--bark);
  border-radius: clamp(16px, 4vw, 24px);
  background: linear-gradient(135deg, var(--correct), #2ecc71);
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(24px, 6vw, 36px);
  color: white;
  text-shadow: 2px 2px 0 rgba(0,0,0,0.4);
  cursor: pointer;
  box-shadow: 0 6px 0 #1e7e34, 0 8px 16px rgba(0,0,0,0.3);
  transition: transform 0.1s, box-shadow 0.1s;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: clamp(8px, 2vw, 12px);
}

.next-btn:active {
  transform: translateY(4px);
  box-shadow: 0 2px 0 #1e7e34, 0 4px 8px rgba(0,0,0,0.2);
}

.confetti {
  position: absolute;
  width: clamp(8px, 2vw, 12px);
  height: clamp(8px, 2vw, 12px);
  border-radius: 50%;
  pointer-events: none;
}

@keyframes confettiFall {
  to {
    transform: translateY(110vh) rotate(360deg);
    opacity: 0;
  }
}

/* Letter Match Game */
.letters-screen {
  background: linear-gradient(to bottom, #fff4e6, #ffe0b3);
}

.letters-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  gap: clamp(16px, 4vw, 28px);
  padding: clamp(8px, 2vw, 16px) clamp(12px, 3vw, 24px);
  padding-top: clamp(4px, 1vw, 8px);
}

.letters-prompt {
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(28px, 7vw, 44px);
  color: #d35400;
  text-shadow: 2px 2px 0 rgba(255,255,255,0.8);
  text-align: center;
  margin-bottom: clamp(-4px, -1vw, -8px);
}

.letters-lowercase {
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(120px, 30vw, 180px);
  color: #d35400;
  text-shadow: 4px 4px 0 rgba(0,0,0,0.3);
  margin-bottom: clamp(8px, 2vw, 16px);
  animation: emojiPop 0.5s ease-out;
}

.letters-uppercase-buttons {
  display: flex;
  flex-wrap: wrap;
  gap: clamp(12px, 3vw, 18px);
  justify-content: center;
  max-width: 90vw;
}

.letters-uppercase-btn {
  width: clamp(85px, 21vw, 125px);
  height: clamp(85px, 21vw, 125px);
  border: 6px solid var(--bark);
  border-radius: clamp(14px, 3.5vw, 20px);
  background: white;
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(44px, 11vw, 68px);
  color: var(--bark);
  cursor: pointer;
  box-shadow: 0 6px 0 #7a3a10, 0 8px 16px rgba(0,0,0,0.2);
  transition: transform 0.1s, box-shadow 0.1s, opacity 0.3s;
  display: flex;
  align-items: center;
  justify-content: center;
}

.letters-uppercase-btn:active:not(:disabled) {
  transform: translateY(2px);
  box-shadow: 0 2px 0 #7a3a10, 0 3px 6px rgba(0,0,0,0.15);
}

.letters-uppercase-btn:disabled {
  opacity: 0.3;
  cursor: not-allowed;
}

.letters-uppercase-btn.correct {
  background: var(--correct);
  color: white;
  border-color: var(--correct);
  animation: slotPop 0.3s ease-out;
}

.letters-uppercase-btn.wrong {
  background: var(--wrong);
  color: white;
  border-color: var(--wrong);
  animation: slotShake 0.4s ease-in-out;
}

/* Dino Stomp Game */
.stomp-screen {
  background: linear-gradient(to bottom, #0d2b1a, #1a5c2a 30%, #2d8a4e 60%, #1a1208 90%, #3d2b1a);
}

.stomp-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  gap: clamp(4px, 1vw, 8px);
  padding: clamp(2px, 0.5vw, 4px) clamp(12px, 3vw, 24px);
  padding-top: clamp(0px, 0vw, 2px);
  padding-bottom: clamp(4px, 1vw, 8px);
  position: relative;
  min-height: 0;
}

.timer-display {
  background: rgba(0,0,0,0.3);
  border: 3px solid rgba(255,255,255,0.4);
  border-radius: 20px;
  padding: clamp(4px, 1vw, 6px) clamp(12px, 3vw, 16px);
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(18px, 4.5vw, 24px);
  color: white;
  display: flex;
  align-items: center;
  gap: clamp(4px, 1vw, 6px);
  transition: all 0.3s;
}

.timer-display.urgent {
  border-color: #e74c3c;
  color: #ff6b6b;
  animation: timerPulse 0.5s ease-in-out infinite;
}

@keyframes timerPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.08); }
}

.stomp-counter {
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(18px, 4.5vw, 24px);
  color: var(--correct);
  text-shadow: 2px 2px 0 rgba(0,0,0,0.4);
  display: flex;
  align-items: center;
  gap: clamp(4px, 1vw, 6px);
}

.stomp-target-area {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: clamp(6px, 1.5vw, 10px);
  background: rgba(0,0,0,0.3);
  padding: clamp(6px, 1.5vw, 10px) clamp(12px, 3vw, 18px);
  border-radius: clamp(12px, 3vw, 20px);
  margin-bottom: clamp(2px, 0.5vw, 4px);
}

.stomp-target-dino {
  font-size: clamp(32px, 8vw, 48px);
  filter: drop-shadow(2px 2px 0 rgba(0,0,0,0.3));
  animation: dinoIdle 2s ease-in-out infinite;
}

.stomp-target-text {
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(22px, 5vw, 34px);
  color: white;
  text-shadow: 2px 2px 0 rgba(0,0,0,0.5);
}

.target-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: clamp(52px, 12vw, 72px);
  height: clamp(52px, 12vw, 72px);
  background: linear-gradient(135deg, #f39c12, #e67e22);
  border: 5px solid #FFD700;
  border-radius: 16px;
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(32px, 8vw, 50px);
  color: white;
  text-shadow: 2px 2px 0 rgba(0,0,0,0.3);
  box-shadow: 0 0 20px rgba(243, 156, 18, 0.5), 0 4px 0 #b8760f;
  animation: badgeGlow 2s ease-in-out infinite;
}

@keyframes badgeGlow {
  0%, 100% { box-shadow: 0 0 20px rgba(243, 156, 18, 0.3), 0 4px 0 #b8760f; }
  50% { box-shadow: 0 0 30px rgba(243, 156, 18, 0.7), 0 4px 0 #b8760f; }
}

.stomp-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: clamp(6px, 1.5vw, 10px);
  max-width: clamp(260px, 65vw, 380px);
  width: 100%;
  aspect-ratio: 1;
  padding: 0 clamp(8px, 2vw, 12px);
  margin-bottom: clamp(4px, 1vw, 8px);
}

.bush-slot {
  aspect-ratio: 1;
  background: radial-gradient(ellipse at bottom, #2d8a4e 0%, #1a5c2a 60%, transparent 100%);
  border-radius: clamp(16px, 4vw, 20px);
  display: flex;
  align-items: flex-end;
  justify-content: center;
  position: relative;
  overflow: hidden;
  padding-bottom: clamp(4px, 1vw, 8px);
}

.bush-decoration {
  font-size: clamp(20px, 5vw, 32px);
  opacity: 0.6;
  animation: bushSway 3s ease-in-out infinite;
}

@keyframes bushSway {
  0%, 100% { transform: rotate(0deg); }
  50% { transform: rotate(2deg); }
}

.letter-card {
  position: absolute;
  width: 85%;
  height: 85%;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  border: 5px solid var(--bark);
  border-radius: clamp(14px, 3.5vw, 18px);
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(36px, 9vw, 56px);
  box-shadow: 0 4px 0 #7a3a10, 0 6px 12px rgba(0,0,0,0.3);
  cursor: pointer;
  animation: cardPopUp 0.3s ease-out forwards;
  z-index: 2;
}

@keyframes cardPopUp {
  0% { transform: translate(-50%, 100%) scale(0.7); opacity: 0; }
  70% { transform: translate(-50%, -58%) scale(1.05); }
  100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
}

.letter-card.sinking {
  animation: cardSinkDown 0.3s ease-in forwards;
}

@keyframes cardSinkDown {
  0% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
  100% { transform: translate(-50%, 100%) scale(0.7); opacity: 0; }
}

.letter-card.stomped {
  animation: stompCorrect 0.4s ease-out forwards;
}

@keyframes stompCorrect {
  0% { transform: translate(-50%, -50%) scale(1); }
  20% { transform: translate(-50%, -50%) scale(0.7) rotate(-5deg); }
  40% { transform: translate(-50%, -50%) scale(1.2) rotate(3deg); background: #27ae60 !important; }
  100% { transform: translate(-50%, -50%) scale(0) rotate(10deg); opacity: 0; }
}

.letter-card.wrong-stomp {
  animation: stompWrong 0.4s ease-out;
}

@keyframes stompWrong {
  0%, 100% { transform: translate(-50%, -50%) translateX(0); }
  20% { transform: translate(-50%, -50%) translateX(-6px); }
  40% { transform: translate(-50%, -50%) translateX(6px); }
  60% { transform: translate(-50%, -50%) translateX(-4px); }
  80% { transform: translate(-50%, -50%) translateX(4px); }
}

.countdown-overlay {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0,0,0,0.5);
  z-index: 100;
  pointer-events: none;
}

.countdown-number {
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(80px, 20vw, 140px);
  color: white;
  text-shadow: 4px 4px 0 rgba(0,0,0,0.5);
  animation: countdownPop 0.8s ease-out forwards;
}

@keyframes countdownPop {
  0% { transform: scale(0); opacity: 0; }
  30% { transform: scale(1.3); opacity: 1; }
  60% { transform: scale(1); opacity: 1; }
  100% { transform: scale(2); opacity: 0; }
}

.countdown-go {
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(80px, 20vw, 140px);
  color: #FFD700;
  text-shadow: 4px 4px 0 rgba(0,0,0,0.5), 0 0 20px #FFD700;
  animation: goPop 0.6s ease-out forwards;
}

@keyframes goPop {
  0% { transform: scale(0); opacity: 0; }
  50% { transform: scale(1.2); opacity: 1; }
  100% { transform: scale(1); opacity: 0; }
}

.score-particle {
  position: fixed;
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(18px, 4.5vw, 24px);
  color: #FFD700;
  text-shadow: 1px 1px 0 rgba(0,0,0,0.5);
  pointer-events: none;
  z-index: 50;
  animation: particleFloat 0.8s ease-out forwards;
}

@keyframes particleFloat {
  0% { transform: translateX(-50%) translateY(0) scale(0.5); opacity: 0; }
  20% { transform: translateX(-50%) translateY(-10px) scale(1.2); opacity: 1; }
  100% { transform: translateX(-50%) translateY(-50px) scale(0.8); opacity: 0; }
}

.results-overlay {
  position: fixed;
  inset: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: clamp(16px, 4vw, 24px);
  background: rgba(0, 0, 0, 0.7);
  backdrop-filter: blur(6px);
  z-index: 200;
  animation: slideUpIn 0.5s ease-out;
}

@keyframes slideUpIn {
  0% { transform: translateY(100%); opacity: 0; }
  100% { transform: translateY(0); opacity: 1; }
}

.results-dino {
  font-size: clamp(80px, 20vw, 120px);
  filter: drop-shadow(4px 4px 0 rgba(0,0,0,0.4));
}

.results-title {
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(32px, 8vw, 48px);
  color: white;
  text-shadow: 3px 3px 0 rgba(0,0,0,0.5);
}

.results-stomp-count {
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(24px, 6vw, 36px);
  color: #FFD700;
  text-shadow: 2px 2px 0 rgba(0,0,0,0.5);
}

.results-stars {
  font-size: clamp(32px, 8vw, 48px);
  display: flex;
  gap: clamp(8px, 2vw, 12px);
}

.results-rating {
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(28px, 7vw, 40px);
  color: #FFD700;
  text-shadow: 2px 2px 0 rgba(0,0,0,0.5);
}

.results-buttons {
  display: flex;
  gap: clamp(12px, 3vw, 20px);
  flex-wrap: wrap;
  justify-content: center;
}

.play-again-btn, .home-btn-large {
  min-width: clamp(140px, 35vw, 200px);
  min-height: clamp(60px, 15vw, 80px);
  border: 5px solid var(--bark);
  border-radius: clamp(14px, 3.5vw, 20px);
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(20px, 5vw, 28px);
  color: white;
  text-shadow: 2px 2px 0 rgba(0,0,0,0.4);
  cursor: pointer;
  box-shadow: 0 6px 0 #7a3a10, 0 8px 16px rgba(0,0,0,0.3);
  transition: transform 0.1s, box-shadow 0.1s;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: clamp(6px, 1.5vw, 10px);
}

.play-again-btn {
  background: linear-gradient(135deg, #27ae60, #1e8449);
}

.home-btn-large {
  background: linear-gradient(135deg, var(--dino-blue), #2171a6);
}

.play-again-btn:active, .home-btn-large:active {
  transform: translateY(4px);
  box-shadow: 0 2px 0 #7a3a10, 0 4px 8px rgba(0,0,0,0.2);
}

/* Dino Colors Game */
.colors-screen {
  background: radial-gradient(ellipse at top, #1a1a3e 0%, #0d0d1f 100%);
  position: relative;
  transition: background 0.5s ease-out;
}

.star-field {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
}

.bg-star {
  position: absolute;
  width: 3px;
  height: 3px;
  background: white;
  border-radius: 50%;
  animation: twinkle ease-in-out infinite;
}

@keyframes twinkle {
  0%, 100% { opacity: 0.2; transform: scale(1); }
  50% { opacity: 0.8; transform: scale(1.3); }
}

.colors-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  gap: clamp(16px, 4vw, 28px);
  padding: clamp(8px, 2vw, 16px) clamp(12px, 3vw, 24px);
  padding-top: clamp(12px, 3vw, 20px);
  position: relative;
  z-index: 1;
}

.colors-word-area {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: clamp(12px, 3vw, 20px);
  margin-top: clamp(8px, 2vw, 16px);
}

.colors-dino {
  font-size: clamp(48px, 12vw, 80px);
  filter: drop-shadow(2px 2px 0 rgba(0,0,0,0.3));
  animation: dinoIdle 2.5s ease-in-out infinite;
}

.color-word-display {
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(56px, 14vw, 96px);
  color: white;
  text-shadow: 3px 3px 0 rgba(0, 0, 0, 0.5), -1px -1px 0 rgba(0, 0, 0, 0.3);
  letter-spacing: 4px;
  text-align: center;
  padding: clamp(12px, 3vw, 16px) clamp(24px, 6vw, 32px);
  animation: wordAppear 0.5s ease-out;
  transition: color 0.5s ease-out, transform 0.3s ease-out;
}

.color-word-display.waiting {
  animation: wordAppear 0.5s ease-out, wordFloat 3s ease-in-out infinite 0.5s;
}

@keyframes wordAppear {
  0% { transform: scale(0.5) rotate(-5deg); opacity: 0; }
  60% { transform: scale(1.1) rotate(2deg); }
  100% { transform: scale(1) rotate(0deg); opacity: 1; }
}

@keyframes wordFloat {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  25% { transform: translateY(-4px) rotate(-0.5deg); }
  75% { transform: translateY(4px) rotate(0.5deg); }
}

.splat-row {
  display: flex;
  gap: clamp(12px, 3vw, 20px);
  justify-content: center;
  flex-wrap: wrap;
  padding: 0 clamp(12px, 3vw, 20px);
  max-width: clamp(400px, 100vw, 500px);
}

.splat-btn {
  width: clamp(85px, 21vw, 125px);
  height: clamp(85px, 21vw, 125px);
  border: 6px solid var(--bark);
  border-radius: clamp(14px, 3.5vw, 20px);
  cursor: pointer;
  box-shadow: 0 6px 0 #7a3a10, 0 8px 16px rgba(0,0,0,0.2);
  transition: transform 0.1s, box-shadow 0.1s, opacity 0.3s;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.splat-btn.popping-in {
  animation: splatPopIn 0.35s ease-out backwards;
}

@keyframes splatPopIn {
  0% { transform: scale(0); }
  60% { transform: scale(1.1); }
  100% { transform: scale(1); }
}

.splat-btn:active {
  transform: translateY(2px);
  box-shadow: 0 2px 0 #7a3a10, 0 3px 6px rgba(0,0,0,0.15);
}

.splat-btn.correct-splat {
  animation: slotPop 0.3s ease-out;
}

.splat-check {
  position: absolute;
  font-size: clamp(48px, 12vw, 72px);
  color: white;
  text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.5);
  animation: checkPop 0.4s ease-out;
  z-index: 2;
}

@keyframes checkPop {
  0% { transform: scale(0) rotate(-180deg); opacity: 0; }
  60% { transform: scale(1.3) rotate(10deg); opacity: 1; }
  100% { transform: scale(1) rotate(0deg); opacity: 1; }
}

.splat-btn.wrong-splat {
  background: var(--wrong) !important;
  border-color: var(--wrong);
  color: white;
  animation: slotShake 0.4s ease-in-out;
}

.splat-btn.fading {
  opacity: 0;
  transform: scale(0.7);
  pointer-events: none;
}

.rainbow-tracker {
  display: flex;
  gap: 4px;
  align-items: center;
  background: rgba(0, 0, 0, 0.3);
  border: 3px solid rgba(255, 255, 255, 0.3);
  border-radius: 20px;
  padding: 6px 12px;
}

.rainbow-dot {
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.15);
  border: 2px solid rgba(255, 255, 255, 0.25);
  transition: all 0.4s ease-out;
}

.rainbow-dot.collected {
  border-color: transparent;
  box-shadow: 0 0 8px currentColor;
  animation: dotCollect 0.5s ease-out;
}

@keyframes dotCollect {
  0% { transform: scale(0); }
  60% { transform: scale(1.4); }
  100% { transform: scale(1); }
}

.rainbow-tracker.complete {
  animation: rainbowGrow 0.5s ease-out forwards;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(2);
  z-index: 80;
}

.rainbow-tracker.complete .rainbow-dot {
  animation: dotSparkle 0.4s ease-out forwards;
  width: 28px;
  height: 28px;
}

@keyframes dotSparkle {
  0% { transform: scale(1); filter: brightness(1); }
  50% { transform: scale(1.5); filter: brightness(1.5); }
  100% { transform: scale(1.2); filter: brightness(1.1); }
}

@keyframes rainbowGrow {
  0% { transform: translate(-50%, -50%) scale(1); }
  100% { transform: translate(-50%, -50%) scale(2); }
}

.reward-container {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 100;
  overflow: visible;
}

.reward-emoji {
  position: absolute;
  top: -60px;
  font-size: clamp(36px, 9vw, 56px);
  animation: emojiRain ease-in forwards;
  filter: drop-shadow(2px 4px 4px rgba(0, 0, 0, 0.3));
  will-change: transform, opacity;
  backface-visibility: hidden;
  opacity: 1;
  z-index: 101;
  line-height: 1;
}

.reward-emoji.burst-style {
  animation: emojiBurst ease-out forwards;
  animation-duration: 2s;
  /* Position will be set inline from JavaScript */
}

.reward-emoji.float-style {
  bottom: -60px;
  top: auto;
  animation: emojiFloat ease-out forwards;
  animation-duration: 2.5s;
}

@keyframes emojiRain {
  0% {
    transform: translateY(0) translateX(0) rotate(0deg) scale(0);
    opacity: 0;
  }
  10% {
    transform: translateY(0) translateX(0) rotate(0deg) scale(1.2);
    opacity: 1;
  }
  20% {
    transform: translateY(10vh) translateX(var(--wobble)) rotate(calc(var(--spin) * 0.3)) scale(1);
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    transform: translateY(105vh) translateX(var(--wobble)) rotate(var(--spin)) scale(0.8);
    opacity: 0;
  }
}

@keyframes emojiBurst {
  0% {
    transform: translate(-50%, -50%) scale(0);
    opacity: 0;
  }
  20% {
    transform: translate(-50%, -50%) scale(1.3);
    opacity: 1;
  }
  100% {
    transform: translate(calc(-50% + var(--dx)), calc(-50% + var(--dy))) scale(0.6) rotate(var(--spin));
    opacity: 0;
  }
}

@keyframes emojiFloat {
  0% {
    transform: translateY(0) scale(0);
    opacity: 0;
  }
  15% {
    transform: translateY(0) scale(1.1);
    opacity: 1;
  }
  100% {
    transform: translateY(-110vh) translateX(var(--wobble)) rotate(var(--spin)) scale(0.7);
    opacity: 0;
  }
}

@media (orientation: portrait) {
  .game-buttons-row {
    flex-direction: column;
    align-items: center;
  }
  .game-btn {
    width: clamp(200px, 50vw, 280px);
  }
}

@media (orientation: landscape) and (max-height: 600px) {
  /* Optimize for landscape tablets like Fire tablets */
  .home-screen {
    padding-top: clamp(2px, 0.5vw, 4px);
    padding-bottom: clamp(2px, 0.5vw, 4px);
    gap: clamp(3px, 0.75vw, 6px);
    justify-content: flex-start;
  }
  
  .dino-title-emoji {
    font-size: clamp(28px, 7vw, 50px);
    margin-top: clamp(-12px, -3vw, -6px);
  }
  
  .app-title {
    font-size: clamp(20px, 5vw, 32px);
    margin-top: clamp(-10px, -2.5vw, -5px);
  }
  
  .game-buttons {
    gap: clamp(3px, 0.75vw, 5px);
    margin-top: clamp(-4px, -1vw, -2px);
  }
  
  .game-buttons-row {
    gap: clamp(5px, 1.25vw, 8px);
  }
  
  .game-btn {
    min-width: clamp(110px, 28vw, 160px);
    font-size: clamp(13px, 3.2vw, 18px);
    padding: clamp(8px, 2vw, 12px) clamp(14px, 3.5vw, 18px);
  }
  
  .stomp-content {
    gap: clamp(2px, 0.5vw, 4px);
    padding-top: clamp(0px, 0vw, 1px);
    padding-bottom: clamp(2px, 0.5vw, 4px);
    justify-content: flex-start;
  }
  
  .stomp-grid {
    max-width: clamp(220px, 55vw, 320px);
    gap: clamp(4px, 1vw, 8px);
    margin-bottom: clamp(2px, 0.5vw, 4px);
    margin-top: clamp(-4px, -1vw, -2px);
  }
  
  .timer-display,
  .stomp-counter {
    font-size: clamp(14px, 3.5vw, 18px);
    padding: clamp(3px, 0.75vw, 5px) clamp(10px, 2.5vw, 14px);
  }
  
  .stomp-target-area {
    padding: clamp(4px, 1vw, 6px) clamp(10px, 2.5vw, 14px);
    margin-bottom: clamp(1px, 0.25vw, 2px);
    margin-top: clamp(-4px, -1vw, -2px);
  }
  
  .stomp-target-text {
    font-size: clamp(16px, 4vw, 22px);
  }
  
  .target-badge {
    width: clamp(36px, 9vw, 48px);
    height: clamp(36px, 9vw, 48px);
    font-size: clamp(20px, 5vw, 32px);
  }

  /* ========== Shared Game Header ========== */
  .game-header {
    min-height: clamp(36px, 7vh, 48px);
    padding: clamp(4px, 1vh, 8px);
    gap: clamp(4px, 1vh, 8px);
  }
  .home-btn {
    width: clamp(36px, 7vh, 48px);
    height: clamp(36px, 7vh, 48px);
    font-size: clamp(18px, 3.5vh, 24px);
    border-width: 3px;
  }
  .star-counter {
    font-size: clamp(14px, 2.5vh, 18px);
    min-width: auto;
    gap: clamp(2px, 0.5vh, 4px);
  }
  .progress-dot {
    width: clamp(8px, 1.5vh, 12px);
    height: clamp(8px, 1.5vh, 12px);
  }
  .progress-dots {
    gap: clamp(3px, 0.75vh, 6px);
  }
  .toggle-btn {
    width: clamp(36px, 7vh, 48px);
    height: clamp(36px, 7vh, 48px);
    font-size: clamp(16px, 3vh, 22px);
    border-width: 3px;
  }

  /* ========== Counting Game ========== */
  .count-content {
    gap: clamp(4px, 1vh, 8px);
    padding: clamp(4px, 1vh, 8px) clamp(8px, 2vw, 16px);
    padding-top: clamp(2px, 0.5vh, 4px);
  }
  .count-prompt {
    font-size: clamp(18px, 3.5vh, 26px);
    margin-bottom: clamp(-4px, -0.5vh, -2px);
  }
  .egg-field {
    gap: clamp(4px, 0.8vh, 8px);
    padding: clamp(4px, 0.8vh, 8px);
    max-width: clamp(400px, 70vw, 600px);
  }
  .egg-item {
    font-size: clamp(32px, 6vh, 48px);
  }
  .egg-count-label {
    font-size: clamp(14px, 2.5vh, 20px);
    top: -16px;
    padding: clamp(2px, 0.4vh, 4px) clamp(4px, 1vw, 8px);
  }
  .number-buttons {
    gap: clamp(6px, 1.2vh, 10px);
  }
  .number-btn {
    width: clamp(52px, 10vh, 68px);
    height: clamp(52px, 10vh, 68px);
    font-size: clamp(28px, 5vh, 40px);
    border-width: 4px;
  }

  /* ========== Memory Match Game ========== */
  .match-content {
    gap: clamp(6px, 1.2vh, 12px);
    padding: clamp(4px, 1vh, 8px);
  }
  .card-grid {
    gap: clamp(6px, 1.2vh, 10px);
    max-width: 480px;
  }
  .card {
    min-height: unset;
    height: clamp(72px, 17vh, 110px);
    font-size: clamp(32px, 7vh, 52px);
    border-width: 4px;
  }

  /* ========== Dice Add Game ========== */
  .dice-dino {
    display: none;
  }
  .dice-content {
    gap: clamp(4px, 1vh, 8px);
    padding: clamp(4px, 1vh, 8px) clamp(8px, 2vw, 16px);
    padding-top: clamp(2px, 0.5vh, 4px);
  }
  .dice-container {
    gap: clamp(8px, 2vw, 14px);
  }
  .die {
    width: clamp(64px, 12vh, 90px);
    height: clamp(64px, 12vh, 90px);
    font-size: clamp(44px, 8vh, 64px);
    border-width: 4px;
    border-radius: clamp(10px, 2vh, 16px);
  }
  .dice-plus {
    font-size: clamp(22px, 4vh, 32px);
    margin: 0 clamp(2px, 0.5vw, 6px);
  }
  .dice-equation .equation-number {
    font-size: clamp(28px, 5.5vh, 42px);
  }
  .dice-equation .equation-symbol {
    font-size: clamp(22px, 4vh, 34px);
  }
  .dice-equation .equation-question {
    font-size: clamp(28px, 5.5vh, 42px);
  }
  .dice-equation .equation-answer {
    font-size: clamp(28px, 5.5vh, 42px);
  }
  .roll-btn {
    min-height: clamp(48px, 8vh, 64px);
    min-width: clamp(160px, 30vw, 220px);
    font-size: clamp(24px, 4vh, 32px);
    padding: clamp(8px, 1.5vh, 14px) clamp(24px, 5vw, 40px);
    border-width: 5px;
  }
  .dice-answer-buttons {
    gap: clamp(6px, 1.2vh, 10px);
  }
  .dice-answer-btn {
    width: clamp(52px, 10vh, 68px);
    height: clamp(52px, 10vh, 68px);
    font-size: clamp(28px, 5vh, 40px);
    border-width: 4px;
  }

  /* ========== Letter Match Game ========== */
  .letters-content {
    gap: clamp(6px, 1.2vh, 12px);
    padding: clamp(4px, 1vh, 8px) clamp(8px, 2vw, 16px);
    padding-top: clamp(2px, 0.5vh, 4px);
  }
  .letters-prompt {
    font-size: clamp(20px, 4vh, 30px);
    margin-bottom: clamp(-4px, -0.5vh, -2px);
  }
  .letters-lowercase {
    font-size: clamp(64px, 16vh, 100px);
    margin-bottom: clamp(2px, 0.5vh, 6px);
  }
  .letters-uppercase-buttons {
    gap: clamp(6px, 1.2vh, 12px);
  }
  .letters-uppercase-btn {
    width: clamp(56px, 11vh, 76px);
    height: clamp(56px, 11vh, 76px);
    font-size: clamp(32px, 6vh, 48px);
    border-width: 4px;
  }

  /* ========== Dino Stomp Game (complete) ========== */
  .stomp-target-dino {
    display: none;
  }
  .stomp-grid {
    aspect-ratio: unset;
    height: clamp(200px, 55vh, 340px);
  }
  .bush-slot {
    aspect-ratio: unset;
  }
  .letter-card {
    font-size: clamp(24px, 6vw, 40px);
  }
  .stomp-target-area {
    gap: clamp(4px, 1vw, 6px);
  }

  /* ========== Dino Colors Game ========== */
  .colors-dino {
    display: none;
  }
  .colors-content {
    gap: clamp(8px, 1.5vh, 14px);
    padding: clamp(4px, 1vh, 8px) clamp(8px, 2vw, 16px);
    padding-top: clamp(4px, 1vh, 8px);
  }
  .colors-word-area {
    margin-top: clamp(4px, 1vh, 8px);
    gap: clamp(6px, 1.5vw, 12px);
  }
  .color-word-display {
    font-size: clamp(40px, 10vh, 64px);
    padding: clamp(6px, 1.2vh, 10px) clamp(16px, 4vw, 24px);
  }
  .splat-row {
    gap: clamp(8px, 1.5vh, 14px);
    padding: 0 clamp(8px, 2vw, 14px);
  }
  .splat-btn {
    width: clamp(56px, 11vh, 76px);
    height: clamp(56px, 11vh, 76px);
    border-width: 4px;
  }
  .splat-check {
    font-size: clamp(32px, 7vh, 48px);
  }
  .rainbow-tracker {
    padding: 4px 8px;
    gap: 3px;
  }
  .rainbow-dot {
    width: 14px;
    height: 14px;
  }

  /* ========== Letter of the Day â€” Shared ========== */
  .lotd-content {
    padding: clamp(4px, 1vh, 8px) clamp(8px, 2vw, 16px);
    padding-top: 0;
  }
  .lotd-next-btn {
    padding: clamp(10px, 2vh, 16px) clamp(24px, 6vw, 40px);
    font-size: clamp(18px, 3.5vh, 26px);
    margin-top: clamp(2px, 0.5vh, 4px);
  }
  .lotd-activity-title {
    font-size: clamp(16px, 3vh, 24px);
  }
  .lotd-header-letter {
    font-size: clamp(20px, 4vh, 32px);
    min-width: clamp(36px, 7vh, 48px);
  }

  /* ---- LOTD Intro ---- */
  .lotd-intro-wrap {
    gap: clamp(4px, 1vh, 10px);
    padding-top: clamp(4px, 1vh, 8px);
  }
  .lotd-intro-subtitle {
    font-size: clamp(14px, 2.5vh, 20px);
  }
  .lotd-big-letter {
    font-size: clamp(72px, 16vh, 110px);
  }
  .lotd-intro-lower {
    font-size: clamp(44px, 10vh, 64px);
    margin-top: clamp(-12px, -2.5vh, -6px);
  }
  .lotd-intro-sound {
    font-size: clamp(14px, 2.5vh, 20px);
  }
  .lotd-ex-chip {
    padding: clamp(4px, 0.8vh, 6px) clamp(8px, 2vw, 12px);
    font-size: clamp(12px, 2.2vh, 16px);
  }

  /* ---- LOTD Words ---- */
  .lotd-words-wrap {
    gap: clamp(6px, 1.2vh, 12px);
    padding-top: clamp(2px, 0.5vh, 4px);
  }
  .lotd-word-emoji {
    font-size: clamp(28px, 6vh, 42px);
  }
  .lotd-word-label {
    font-size: clamp(11px, 2vh, 15px);
  }
  .lotd-word-card {
    padding: clamp(4px, 1vh, 8px) clamp(4px, 1vw, 8px);
    gap: 2px;
  }

  /* ---- LOTD Cases ---- */
  .lotd-cases-wrap {
    gap: clamp(6px, 1.2vh, 10px);
    padding-top: clamp(2px, 0.5vh, 4px);
  }
  .lotd-cases-display {
    padding: clamp(8px, 1.5vh, 14px) clamp(16px, 4vw, 28px);
    gap: clamp(10px, 2.5vw, 20px);
    margin-bottom: clamp(2px, 0.5vh, 4px);
  }
  .lotd-case-letter {
    font-size: clamp(48px, 11vh, 72px);
  }
  .lotd-case-label {
    font-size: clamp(11px, 2vh, 15px);
  }
  .lotd-case-equals {
    font-size: clamp(20px, 4vh, 32px);
  }
  .lotd-cases-quiz {
    gap: clamp(6px, 1.2vh, 10px);
  }
  .lotd-case-btn {
    width: clamp(52px, 10vh, 72px);
    height: clamp(52px, 10vh, 72px);
    font-size: clamp(28px, 5.5vh, 42px);
    border-width: 4px;
  }
  .lotd-cases-score {
    font-size: clamp(14px, 2.5vh, 20px);
  }

  /* ---- LOTD Tracing ---- */
  .lotd-trace-wrap {
    gap: clamp(4px, 1vh, 8px);
    padding-top: clamp(2px, 0.5vh, 4px);
  }
  .lotd-trace-tabs {
    gap: clamp(4px, 1vw, 8px);
  }
  .lotd-trace-tab {
    padding: clamp(4px, 1vh, 8px) clamp(12px, 3vw, 20px);
    font-size: clamp(12px, 2.2vh, 17px);
  }
  .lotd-trace-container {
    width: min(200px, 36vh);
    height: min(200px, 36vh);
  }
  .lotd-trace-progress-bar {
    height: 10px;
  }
  .lotd-trace-hint {
    font-size: clamp(13px, 2.5vh, 18px);
  }
  .lotd-trace-actions {
    gap: clamp(6px, 1.5vw, 12px);
  }
  .lotd-clear-btn {
    padding: clamp(6px, 1.2vh, 10px) clamp(14px, 3vw, 20px);
    font-size: clamp(13px, 2.5vh, 18px);
  }

  /* ---- LOTD Find It ---- */
  .lotd-findit-wrap {
    gap: clamp(4px, 1vh, 8px);
    padding-top: clamp(2px, 0.5vh, 4px);
  }
  .lotd-findit-timer {
    font-size: clamp(16px, 3vh, 24px);
    padding: clamp(2px, 0.5vh, 4px) clamp(10px, 2.5vw, 16px);
  }
  .lotd-findit-score {
    font-size: clamp(14px, 2.5vh, 20px);
  }
  .lotd-findit-grid {
    aspect-ratio: unset;
    max-height: clamp(200px, 50vh, 300px);
  }
  .lotd-findit-slot {
    aspect-ratio: unset;
    height: clamp(60px, 15vh, 92px);
  }
  .lotd-findit-card {
    font-size: clamp(24px, 5.5vh, 38px);
  }

  /* ---- LOTD Yes/No ---- */
  .lotd-yesno-wrap {
    gap: clamp(6px, 1.2vh, 10px);
    padding-top: clamp(2px, 0.5vh, 4px);
  }
  .lotd-yesno-card {
    padding: clamp(8px, 1.5vh, 14px) clamp(16px, 4vw, 28px);
    gap: clamp(4px, 1vh, 8px);
  }
  .lotd-yesno-emoji {
    font-size: clamp(48px, 10vh, 72px);
  }
  .lotd-yesno-word {
    font-size: clamp(20px, 4vh, 30px);
  }
  .lotd-yesno-btns {
    gap: clamp(8px, 2vw, 14px);
  }
  .lotd-yn-btn {
    padding: clamp(10px, 2vh, 14px);
    font-size: clamp(16px, 3vh, 22px);
  }
  .lotd-yesno-feedback {
    font-size: clamp(13px, 2.5vh, 18px);
    min-height: 1.5em;
  }
  .lotd-yesno-progress .progress-dot {
    width: clamp(8px, 1.5vh, 12px);
    height: clamp(8px, 1.5vh, 12px);
  }

  /* ---- LOTD Done ---- */
  .lotd-done-wrap {
    gap: clamp(6px, 1.2vh, 12px);
    padding-top: clamp(8px, 2vh, 14px);
  }
  .lotd-done-dino {
    font-size: clamp(56px, 12vh, 90px);
  }
  .lotd-done-title {
    font-size: clamp(20px, 4vh, 32px);
  }
  .lotd-done-score {
    font-size: clamp(16px, 3vh, 22px);
    padding: clamp(4px, 1vh, 8px) clamp(14px, 3vw, 20px);
  }

  /* ---- LOTD Letter Picker ---- */
  .lotd-picker-wrap {
    padding: clamp(2px, 0.5vh, 4px) clamp(6px, 1.5vw, 12px);
    gap: clamp(1px, 0.3vh, 3px);
    justify-content: flex-start;
    max-width: 95%;
  }
  .lotd-picker-title {
    font-size: clamp(16px, 3vh, 24px);
    margin-bottom: 1px;
  }
  .lotd-picker-subtitle {
    font-size: clamp(10px, 1.8vh, 14px);
    margin-bottom: clamp(2px, 0.5vh, 6px);
  }
  .lotd-picker-grid {
    grid-template-columns: repeat(13, 1fr);
    gap: clamp(3px, 0.6vh, 5px);
    max-width: 100%;
    padding: 0 4px;
  }
  .lotd-picker-btn {
    font-size: clamp(13px, 2.8vh, 18px);
    border-radius: 6px;
    box-shadow: 0 2px 0 rgba(0,0,0,0.2);
    aspect-ratio: 1;
  }

  /* ========== Celebration Overlay ========== */
  .celebration-overlay {
    gap: clamp(10px, 2vh, 20px);
  }
  .celebration-dino {
    font-size: clamp(60px, 12vh, 100px);
  }
  .celebration-text {
    font-size: clamp(24px, 5vh, 36px);
  }
  .next-btn {
    min-width: clamp(140px, 30vw, 220px);
    min-height: clamp(48px, 9vh, 68px);
    font-size: clamp(18px, 3.5vh, 28px);
  }

  /* ========== Stomp Results Overlay ========== */
  .results-overlay {
    gap: clamp(8px, 1.5vh, 14px);
  }
  .results-dino {
    font-size: clamp(48px, 10vh, 80px);
  }
  .results-title {
    font-size: clamp(22px, 4.5vh, 34px);
  }
  .results-stomp-count {
    font-size: clamp(16px, 3vh, 26px);
  }
  .results-stars {
    font-size: clamp(22px, 4.5vh, 36px);
    gap: clamp(4px, 1vw, 8px);
  }
  .results-rating {
    font-size: clamp(18px, 3.5vh, 28px);
  }
  .results-buttons {
    gap: clamp(8px, 2vw, 14px);
  }
  .play-again-btn, .home-btn-large {
    min-width: clamp(110px, 25vw, 160px);
    min-height: clamp(48px, 8vh, 64px);
    font-size: clamp(16px, 3vh, 22px);
  }
}

/* ============================================================
   LETTER OF THE DAY â€” CSS
   ============================================================ */

.btn-lotd {
  background: linear-gradient(135deg, #6c3483, #9b59b6, #e91e90);
  border-color: #4a1a6e;
  box-shadow: 0 6px 0 #3a0d5e, 0 8px 20px rgba(0,0,0,0.3);
  font-size: clamp(18px, 4.5vw, 28px);
  min-width: clamp(260px, 65vw, 360px);
}

.lotd-screen {
  background: linear-gradient(160deg, #1a1040 0%, #2d1b6b 40%, #1a3a5c 100%);
}

.lotd-header-letter {
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(28px, 7vw, 42px);
  color: #FFD700;
  text-shadow: 2px 2px 0 rgba(0,0,0,0.4);
  min-width: clamp(48px, 12vw, 64px);
  text-align: right;
}

.lotd-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  overflow-y: auto;
  overflow-x: hidden;
  padding: clamp(8px, 2vw, 16px) clamp(12px, 3vw, 24px);
  padding-top: 0;
  width: 100%;
}

/* ---- Intro ---- */
.lotd-intro-wrap {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: clamp(10px, 2.5vw, 18px);
  width: 100%;
  max-width: 480px;
  margin: 0 auto;
  padding-top: clamp(8px, 2vw, 16px);
}

.lotd-intro-subtitle {
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(18px, 4.5vw, 28px);
  color: rgba(255,255,255,0.7);
  letter-spacing: 2px;
  text-transform: uppercase;
}

.lotd-big-letter {
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(120px, 30vw, 180px);
  color: #FFD700;
  text-shadow: 6px 6px 0 rgba(0,0,0,0.3), 0 0 40px rgba(255,215,0,0.4);
  line-height: 1;
}

.lotd-intro-lower {
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(70px, 17.5vw, 110px);
  color: rgba(255, 215, 0, 0.7);
  line-height: 1;
  margin-top: clamp(-20px, -5vw, -12px);
}

@keyframes lotdIntroPop {
  0% { transform: scale(0) rotate(-10deg); opacity: 0; }
  60% { transform: scale(1.12) rotate(3deg); opacity: 1; }
  100% { transform: scale(1) rotate(0); opacity: 1; }
}

.lotd-intro-pop { animation: lotdIntroPop 0.6s cubic-bezier(.34,1.56,.64,1) forwards; }
.lotd-intro-pop-delay { animation: lotdIntroPop 0.6s cubic-bezier(.34,1.56,.64,1) 0.15s both; }

.lotd-intro-sound {
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(18px, 4.5vw, 26px);
  color: rgba(255,255,255,0.8);
}

.lotd-phonic {
  color: #FFD700;
  font-size: 1.2em;
}

.lotd-intro-examples {
  display: flex;
  gap: clamp(8px, 2vw, 12px);
  flex-wrap: wrap;
  justify-content: center;
}

.lotd-ex-chip {
  background: rgba(255,255,255,0.12);
  border: 2px solid rgba(255,255,255,0.2);
  border-radius: 24px;
  padding: clamp(6px, 1.5vw, 10px) clamp(12px, 3vw, 18px);
  font-size: clamp(14px, 3.5vw, 20px);
  color: white;
  font-family: 'Lilita One', sans-serif;
}

/* ---- Shared ---- */
.lotd-next-btn {
  padding: clamp(16px, 4vw, 22px) clamp(36px, 9vw, 56px);
  border: 5px solid #4a1a6e;
  border-radius: clamp(16px, 4vw, 24px);
  background: linear-gradient(135deg, #9b59b6, #6c3483);
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(22px, 5.5vw, 32px);
  color: white;
  text-shadow: 2px 2px 0 rgba(0,0,0,0.4);
  cursor: pointer;
  box-shadow: 0 6px 0 #3a0d5e, 0 8px 16px rgba(0,0,0,0.3);
  transition: transform 0.1s, box-shadow 0.1s;
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: clamp(4px, 1vw, 8px);
}

.lotd-next-btn:active {
  transform: translateY(4px);
  box-shadow: 0 2px 0 #3a0d5e, 0 4px 8px rgba(0,0,0,0.2);
}

.lotd-activity-title {
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(20px, 5vw, 30px);
  color: white;
  text-shadow: 2px 2px 0 rgba(0,0,0,0.4);
  text-align: center;
}

.lotd-letter-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, #FFD700, #f39c12);
  color: #2c1810;
  font-family: 'Lilita One', sans-serif;
  font-size: 0.95em;
  padding: 2px 14px 4px;
  border-radius: 14px;
  box-shadow: 0 3px 0 #b8760f;
  vertical-align: middle;
}

/* ---- Words ---- */
.lotd-words-wrap {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: clamp(12px, 3vw, 20px);
  width: 100%;
  max-width: 560px;
  margin: 0 auto;
  padding-top: clamp(4px, 1vw, 8px);
}

.lotd-words-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: clamp(8px, 2vw, 14px);
  width: 100%;
}

.lotd-word-card {
  background: rgba(255,255,255,0.1);
  border: 3px solid rgba(255,255,255,0.2);
  border-radius: clamp(12px, 3vw, 18px);
  padding: clamp(8px, 2vw, 14px) clamp(6px, 1.5vw, 10px);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  cursor: pointer;
  transition: transform 0.15s, background 0.15s;
}

.lotd-word-hidden { opacity: 0; transform: scale(0.5) translateY(20px); }

@keyframes lotdWordReveal {
  0% { opacity: 0; transform: scale(0.5) translateY(20px); }
  60% { transform: scale(1.08) translateY(-4px); }
  100% { opacity: 1; transform: scale(1) translateY(0); }
}

.lotd-word-reveal { animation: lotdWordReveal 0.4s cubic-bezier(.34,1.56,.64,1) forwards; }
.lotd-word-tap { transform: scale(0.93) !important; background: rgba(255,215,0,0.15) !important; }

.lotd-word-emoji { font-size: clamp(36px, 9vw, 56px); }

.lotd-word-label {
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(13px, 3.2vw, 18px);
  color: rgba(255,255,255,0.85);
  text-align: center;
}

.lotd-word-first {
  color: #FFD700;
  font-size: 1.15em;
}

/* ---- Case Matching ---- */
.lotd-cases-wrap {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: clamp(10px, 2.5vw, 16px);
  width: 100%;
  max-width: 480px;
  margin: 0 auto;
  padding-top: clamp(4px, 1vw, 8px);
}

.lotd-cases-display {
  display: flex;
  align-items: center;
  gap: clamp(16px, 4vw, 28px);
  background: rgba(255,255,255,0.08);
  border-radius: clamp(16px, 4vw, 24px);
  padding: clamp(14px, 3.5vw, 22px) clamp(24px, 6vw, 36px);
  margin-bottom: clamp(4px, 1vw, 8px);
}

.lotd-case-block {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
}

.lotd-case-letter {
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(70px, 17.5vw, 100px);
  line-height: 1;
  text-shadow: 3px 3px 0 rgba(0,0,0,0.3);
}

.lotd-case-upper .lotd-case-letter { color: #FFD700; }
.lotd-case-lower .lotd-case-letter { color: #7dd87d; }

.lotd-case-label {
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(13px, 3.2vw, 18px);
  color: rgba(255,255,255,0.6);
}

.lotd-case-equals {
  font-size: clamp(28px, 7vw, 42px);
}

.lotd-cases-quiz {
  display: flex;
  flex-direction: column;
  gap: clamp(10px, 2.5vw, 14px);
  width: 100%;
}

.lotd-cases-row {
  display: flex;
  gap: clamp(8px, 2vw, 12px);
  justify-content: center;
}

.lotd-case-btn {
  width: clamp(70px, 17.5vw, 100px);
  height: clamp(70px, 17.5vw, 100px);
  border-radius: clamp(14px, 3.5vw, 20px);
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(36px, 9vw, 54px);
  cursor: pointer;
  transition: transform 0.1s, box-shadow 0.1s;
  border: 5px solid var(--bark);
  box-shadow: 0 5px 0 #7a3a10;
}

.lotd-case-upper-btn {
  background: linear-gradient(135deg, #f39c12, #e67e22);
  color: white;
  text-shadow: 2px 2px 0 rgba(0,0,0,0.3);
}

.lotd-case-lower-btn {
  background: linear-gradient(135deg, #27ae60, #1e8449);
  color: white;
  text-shadow: 2px 2px 0 rgba(0,0,0,0.3);
}

.lotd-case-btn.lotd-case-selected {
  transform: translateY(-4px) scale(1.1);
  box-shadow: 0 8px 0 #7a3a10, 0 0 16px rgba(255,215,0,0.5);
  border-color: #FFD700;
}

.lotd-case-btn.lotd-case-matched {
  opacity: 0.5;
  transform: scale(0.85);
  background: linear-gradient(135deg, #27ae60, #1e8449) !important;
  border-color: var(--correct) !important;
}

.lotd-case-btn.lotd-case-wrong {
  animation: slotShake 0.4s ease-in-out;
  background: var(--wrong) !important;
}

.lotd-cases-score {
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(18px, 4.5vw, 24px);
  color: #FFD700;
  text-align: center;
}

/* ---- Tracing ---- */
.lotd-trace-wrap {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: clamp(8px, 2vw, 14px);
  width: 100%;
  max-width: 480px;
  margin: 0 auto;
  padding-top: clamp(4px, 1vw, 8px);
}

.lotd-trace-tabs {
  display: flex;
  gap: clamp(8px, 2vw, 12px);
}

.lotd-trace-tab {
  padding: clamp(8px, 2vw, 12px) clamp(20px, 5vw, 30px);
  border: 4px solid rgba(255,255,255,0.2);
  border-radius: 40px;
  background: rgba(255,255,255,0.08);
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(15px, 3.75vw, 20px);
  color: rgba(255,255,255,0.6);
  cursor: pointer;
  transition: all 0.2s;
}

.lotd-trace-tab.active {
  background: linear-gradient(135deg, #9b59b6, #6c3483);
  border-color: #FFD700;
  color: white;
}

.lotd-trace-container {
  position: relative;
  width: min(280px, 70vw);
  height: min(280px, 70vw);
  border-radius: clamp(20px, 5vw, 28px);
  background: rgba(255,255,255,0.06);
  border: 3px solid rgba(255,255,255,0.15);
  overflow: hidden;
  touch-action: none;
}

.lotd-trace-canvas {
  position: absolute;
  top: 0; left: 0;
  touch-action: none;
  cursor: crosshair;
  z-index: 2;
  background: transparent;
}

.lotd-trace-guide {
  position: absolute;
  top: 0; left: 0;
  pointer-events: none;
  z-index: 1;
}

.lotd-trace-progress-bar {
  width: 100%;
  height: 14px;
  background: rgba(255,255,255,0.12);
  border-radius: 7px;
  overflow: hidden;
}

.lotd-trace-progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #9b59b6, #FFD700);
  border-radius: 7px;
  transition: width 0.2s ease;
  width: 0%;
}

.lotd-trace-hint {
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(16px, 4vw, 22px);
  color: rgba(255,255,255,0.75);
  text-align: center;
}

.lotd-trace-actions {
  display: flex;
  gap: clamp(12px, 3vw, 20px);
  align-items: center;
}

.lotd-clear-btn {
  padding: clamp(10px, 2.5vw, 14px) clamp(20px, 5vw, 28px);
  border: 4px solid rgba(255,255,255,0.2);
  border-radius: 20px;
  background: rgba(255,255,255,0.08);
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(16px, 4vw, 22px);
  color: white;
  cursor: pointer;
  transition: transform 0.1s;
}

.lotd-clear-btn:active { transform: scale(0.95); }

.lotd-sparkle {
  position: fixed;
  font-size: clamp(20px, 5vw, 30px);
  pointer-events: none;
  z-index: 999;
  animation: sparkleFloat 0.9s ease-out forwards;
}

@keyframes sparkleFloat {
  0% { transform: scale(0) rotate(0deg); opacity: 1; }
  50% { transform: scale(1.4) rotate(180deg); opacity: 1; }
  100% { transform: scale(0) rotate(360deg) translateY(-40px); opacity: 0; }
}

/* ---- Find It ---- */
.lotd-findit-wrap {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: clamp(8px, 2vw, 14px);
  width: 100%;
  max-width: 420px;
  margin: 0 auto;
  padding-top: clamp(4px, 1vw, 8px);
}

.lotd-findit-timer {
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(22px, 5.5vw, 32px);
  color: white;
  background: rgba(0,0,0,0.3);
  border: 3px solid rgba(255,255,255,0.3);
  border-radius: 20px;
  padding: clamp(4px, 1vw, 8px) clamp(16px, 4vw, 24px);
}

.lotd-findit-score {
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(18px, 4.5vw, 26px);
  color: #FFD700;
}

.lotd-findit-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: clamp(6px, 1.5vw, 10px);
  width: 100%;
  aspect-ratio: 1;
}

.lotd-findit-slot {
  aspect-ratio: 1;
  background: rgba(255,255,255,0.06);
  border-radius: clamp(14px, 3.5vw, 20px);
  border: 2px solid rgba(255,255,255,0.1);
  position: relative;
  overflow: visible;
  display: flex;
  align-items: center;
  justify-content: center;
}

.lotd-findit-card {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 85%; 
  height: 85%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(36px, 9vw, 54px);
  border-radius: clamp(12px, 3vw, 16px);
  border: 4px solid var(--bark);
  background: linear-gradient(135deg, #fdf6e3, #ffe0b3);
  color: var(--bark);
  cursor: pointer;
  box-shadow: 0 4px 0 #7a3a10;
  animation: lotdCardPop 0.25s cubic-bezier(.34,1.56,.64,1) forwards;
  z-index: 10;
}

@keyframes lotdCardPop {
  0% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
  100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
}

.lotd-findit-card.lotd-findit-correct {
  background: linear-gradient(135deg, #27ae60, #1e8449) !important;
  color: white !important;
  animation: stompCorrect 0.4s ease-out forwards;
}

.lotd-findit-card.lotd-findit-wrong {
  background: var(--wrong) !important;
  color: white !important;
  animation: lotdCardShake 0.4s ease-in-out;
}

@keyframes lotdCardShake {
  0%, 100% { transform: translate(-50%, -50%) translateX(0); }
  25% { transform: translate(-50%, -50%) translateX(-8px); }
  75% { transform: translate(-50%, -50%) translateX(8px); }
}

.lotd-findit-card.lotd-findit-sink {
  animation: cardSinkDown 0.3s ease-in forwards;
}

/* ---- Yes/No ---- */
.lotd-yesno-wrap {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: clamp(10px, 2.5vw, 16px);
  width: 100%;
  max-width: 440px;
  margin: 0 auto;
  padding-top: clamp(4px, 1vw, 8px);
}

.lotd-yesno-progress {
  display: flex;
  gap: clamp(6px, 1.5vw, 10px);
}

.lotd-yesno-card {
  background: rgba(255,255,255,0.1);
  border: 4px solid rgba(255,255,255,0.2);
  border-radius: clamp(20px, 5vw, 28px);
  padding: clamp(18px, 4.5vw, 28px) clamp(32px, 8vw, 48px);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: clamp(8px, 2vw, 14px);
  width: 100%;
  transition: all 0.3s;
}

.lotd-yesno-card.lotd-yn-correct {
  background: rgba(39, 174, 96, 0.25);
  border-color: #27ae60;
}

.lotd-yesno-card.lotd-yn-wrong {
  background: rgba(231, 76, 60, 0.25);
  border-color: #e74c3c;
}

.lotd-yesno-emoji {
  font-size: clamp(72px, 18vw, 110px);
}

.lotd-yesno-word {
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(28px, 7vw, 44px);
  color: white;
  text-shadow: 2px 2px 0 rgba(0,0,0,0.4);
}

.lotd-yesno-btns {
  display: flex;
  gap: clamp(12px, 3vw, 20px);
  width: 100%;
}

.lotd-yn-btn {
  flex: 1;
  padding: clamp(14px, 3.5vw, 20px);
  border-radius: clamp(16px, 4vw, 22px);
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(20px, 5vw, 28px);
  color: white;
  cursor: pointer;
  border: 5px solid var(--bark);
  transition: transform 0.1s, box-shadow 0.1s;
}

.lotd-yn-yes {
  background: linear-gradient(135deg, #27ae60, #1e8449);
  box-shadow: 0 5px 0 #145a32;
}

.lotd-yn-no {
  background: linear-gradient(135deg, #e74c3c, #c0392b);
  box-shadow: 0 5px 0 #7a1a1a;
}

.lotd-yn-btn:active:not(:disabled) {
  transform: translateY(3px);
  box-shadow: 0 2px 0 #145a32 !important;
}

.lotd-yn-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.lotd-yesno-feedback {
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(16px, 4vw, 22px);
  text-align: center;
  min-height: 2em;
}

/* ---- Letter Picker ---- */
.lotd-picker-wrap {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  padding: clamp(6px, 1.5vw, 14px);
  width: 100%;
  max-width: 520px;
  margin: 0 auto;
}

.lotd-picker-title {
  font-family: 'Lilita One', cursive;
  font-size: clamp(22px, 5vw, 36px);
  color: #FFD700;
  text-shadow: 2px 2px 0 rgba(0,0,0,0.3);
  margin-bottom: 2px;
}

.lotd-picker-subtitle {
  font-size: clamp(12px, 2.5vw, 18px);
  color: rgba(255,255,255,0.7);
  margin-bottom: clamp(6px, 1.5vw, 14px);
  font-family: 'Lilita One', sans-serif;
}

.lotd-picker-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(48px, 1fr));
  gap: 8px;
  width: 100%;
  max-width: 420px;
  padding: 0 8px;
}

.lotd-picker-btn {
  aspect-ratio: 1;
  font-family: 'Lilita One', cursive;
  font-size: clamp(18px, 4vw, 26px);
  border: none;
  border-radius: 10px;
  background: linear-gradient(135deg, #6c5ce7, #a29bfe);
  color: white;
  cursor: pointer;
  transition: transform 0.15s, box-shadow 0.15s;
  box-shadow: 0 3px 0 rgba(0,0,0,0.2);
  animation: lotdPickerPop 0.3s ease both;
  text-shadow: 1px 1px 0 rgba(0,0,0,0.25);
}

.lotd-picker-btn:hover {
  transform: translateY(-2px) scale(1.05);
  box-shadow: 0 5px 0 rgba(0,0,0,0.2);
}

.lotd-picker-btn:active {
  transform: translateY(1px) scale(0.97);
  box-shadow: 0 1px 0 rgba(0,0,0,0.2);
}

@keyframes lotdPickerPop {
  from { opacity: 0; transform: scale(0.5); }
  to   { opacity: 1; transform: scale(1); }
}

/* ---- Done screen home button variant ---- */
.lotd-home-btn {
  background: linear-gradient(135deg, #3498db, #2171a6);
  border-color: #1a5276;
  box-shadow: 0 6px 0 #154360, 0 8px 16px rgba(0,0,0,0.3);
}

/* ---- Done ---- */
.lotd-done-wrap {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: clamp(12px, 3vw, 20px);
  padding-top: clamp(16px, 4vw, 28px);
  max-width: 440px;
  margin: 0 auto;
}

.lotd-done-dino {
  font-size: clamp(80px, 20vw, 130px);
  animation: celebrationSpin 0.8s ease-out;
}

.lotd-done-title {
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(26px, 6.5vw, 40px);
  color: #FFD700;
  text-shadow: 3px 3px 0 rgba(0,0,0,0.4);
  text-align: center;
}

.lotd-done-score {
  font-family: 'Lilita One', sans-serif;
  font-size: clamp(20px, 5vw, 28px);
  color: white;
  background: rgba(255,255,255,0.1);
  border-radius: 16px;
  padding: clamp(8px, 2vw, 12px) clamp(20px, 5vw, 28px);
}